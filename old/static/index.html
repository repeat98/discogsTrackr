<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discogs Seller - Best Rated Releases</title>
    
    <!-- Google Fonts (Figtree) -->
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/style.css">
    
    <!-- YouTube Iframe API -->
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body class="dark-mode">
    <div class="Desktop">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container MainContainer">
                <div class="d-flex justify-content-between align-items-center w-100">
                    <a class="navbar-brand d-flex align-items-center" href="/">
                        <span style="font-size: 24px; margin-right: 8px;">ðŸŽµ</span>
                        DISCOGS SELLER
                        <span class="powered-by d-none d-md-inline fst-italic fw-light ms-1">
                            powered by Discogs
                        </span>
                    </a>
                    <div class="d-flex align-items-center">
                        <div class="search-input-wrapper">
                            <input type="text" id="sellerInput" placeholder="Enter seller username..." onkeypress="if(event.key==='Enter') fetchReleases()">
                        </div>
                        <div class="dark-mode-toggle">
                            <span id="darkModeToggle">
                                <span class="moon-icon"><i class="bi bi-moon"></i></span>
                                <span class="sun-icon"><i class="bi bi-sun"></i></span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Filter form -->
        <div class="filter-form-wrapper" id="filter-wrapper">
            <div class="container MainContainer">
                <form id="filter-form" class="FilterContainer">
                    <!-- Genre -->
                    <div class="filter-group">
                        <label for="genre" class="filter-label">Genre</label>
                        <select id="genre" name="genre" class="filter-select">
                            <option value="">All Genres</option>
                        </select>
                    </div>
                    <!-- Style -->
                    <div class="filter-group">
                        <label for="style" class="filter-label">Style</label>
                        <select id="style" name="style" class="filter-select">
                            <option value="">All Styles</option>
                        </select>
                    </div>
                    <!-- Artist -->
                    <div class="filter-group">
                        <label for="artist" class="filter-label">Artist</label>
                        <select id="artist" name="artist" class="filter-select">
                            <option value="">All Artists</option>
                        </select>
                    </div>
                    <!-- Label -->
                    <div class="filter-group">
                        <label for="label" class="filter-label">Label</label>
                        <select id="label" name="label" class="filter-select">
                            <option value="">All Labels</option>
                        </select>
                    </div>
                    <!-- Year range -->
                    <div class="filter-group">
                        <label for="year_range" class="filter-label">Year range</label>
                        <input type="text" id="year_range" name="year_range" class="filter-input" placeholder="e.g. 2010-2015">
                    </div>
                    <!-- Rating range -->
                    <div class="filter-group">
                        <label for="rating_range" class="filter-label">Rating range</label>
                        <input type="text" id="rating_range" name="rating_range" class="filter-input" placeholder="e.g. 3-5">
                    </div>
                    <!-- Rating Count range -->
                    <div class="filter-group">
                        <label for="rating_count_range" class="filter-label">Rating Count</label>
                        <input type="text" id="rating_count_range" name="rating_count_range" class="filter-input" placeholder="e.g. 10-100">
                    </div>
                    <!-- Price range -->
                    <div class="filter-group">
                        <label for="price_range" class="filter-label">Price range</label>
                        <input type="text" id="price_range" name="price_range" class="filter-input" placeholder="e.g. 5-25">
                    </div>
                    <!-- Filter button -->
                    <div class="filter-button-group d-flex align-items-center gap-2">
                        <button type="button" class="btn btn-primary filter-btn" id="fetchButton" onclick="fetchReleases()">
                            <i class="bi bi-search"></i> Search
                        </button>
                        <button type="button" class="btn btn-outline-danger filter-btn" onclick="clearSellerData()">
                            <i class="bi bi-trash"></i> Clear Data
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="container MainContainer">
            <div class="progress-section" id="progressSection">
                <h3>Processing...</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                <div class="status-message" id="statusMessage">Initializing...</div>
            </div>
        </div>

        <!-- Main Content container for table and pagination -->
        <div class="container MainContainer" style="position: relative" id="resultsSection">
            <!-- Results Count -->
            <div class="d-flex justify-content-between align-items-center mb-2" style="margin-top: 1rem">
                <div id="results-count" class="fw-semibold">
                    <!-- dynamically updated -->
                </div>
            </div>

            <!-- Table -->
            <div class="table-container">
                <table class="table table-hover table-bordered mb-0">
                    <thead id="table-header">
                        <!-- Headers will be dynamically inserted -->
                    </thead>
                    <tbody id="releases-table-body">
                        <tr><td class="no-results" colspan="12">
                            <p>Enter a Discogs seller username and click Search to get started</p>
                        </td></tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination-container">
                <ul class="pagination" id="pagination" style="display: none;">
                    <!-- Pagination will be dynamically inserted -->
                </ul>
            </div>
        </div>
    </div>

    <footer class="text-center py-3">
        <small>
            <a href="/" style="color: inherit; text-decoration: none">
                &copy; 2025 - Discogs Seller Best Rated
            </a>
        </small>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Main JS -->
    <script src="/static/script.js"></script>
</body>
</html>
